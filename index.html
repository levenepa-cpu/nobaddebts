<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="NO BAD DEBTS¬†: assurance-cr√©dit &amp; affacturage expliqu√©s simplement pour prot√©ger tes ventes B2B et acc√©l√©rer ton cash." />
  <!-- Mots-cl√©s pour le r√©f√©rencement -->
  <meta name="keywords" content="no bad debts, assurance cr√©dit, affacturage, gestion des cr√©ances B2B, protection contre les impay√©s, d√©lais de paiement, financement B2B" />
  <!-- Balises Open Graph pour un meilleur partage social -->
  <meta property="og:title" content="NO BAD DEBTS ‚Äì Assurance-cr√©dit &amp; Affacturage" />
  <meta property="og:description" content="NO BAD DEBTS¬†: assurance-cr√©dit &amp; affacturage expliqu√©s simplement pour prot√©ger tes ventes B2B et acc√©l√©rer ton cash." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://levenepa-cpu.github.io/nobaddebts/" />
  <meta property="og:locale" content="fr_FR" />
  <title>NO BAD DEBTS ‚Äì Assurance-cr√©dit &amp; Affacturage</title>

  <style>
    :root{
      --bg:#0b1220;
      --card:#101a33;
      --muted:#9fb0d0;
      --text:#eaf0ff;
      --brand:#5eead4;
      --brand2:#60a5fa;
      --danger:#fb7185;
      --ok:#34d399;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
      --max: 1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background: radial-gradient(1200px 700px at 15% 10%, rgba(96,165,250,.22), transparent 55%),
                  radial-gradient(900px 600px at 90% 15%, rgba(94,234,212,.18), transparent 55%),
                  linear-gradient(180deg, #070b14, var(--bg));
      line-height:1.5;
    }
    a{color:inherit}
    .container{max-width:var(--max); margin:0 auto; padding:26px 18px 70px}
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      gap:14px; padding:12px 14px;
      background: rgba(16,26,51,.55);
      border:1px solid rgba(255,255,255,.10);
      border-radius: 999px;
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      position:sticky; top:14px; z-index:20;
    }
    .brand{
      display:flex; align-items:center; gap:10px; text-decoration:none;
      font-weight:900; letter-spacing:.2px;
    }
    .logo{
      width:34px; height:34px; border-radius: 12px;
      background: linear-gradient(135deg, var(--brand), var(--brand2));
      box-shadow: 0 10px 25px rgba(96,165,250,.25);
    }
    .nav ul{list-style:none; display:flex; gap:14px; margin:0; padding:0; flex-wrap:wrap; justify-content:flex-end}
    .nav a.link{
      text-decoration:none; color:var(--muted);
      padding:10px 12px; border-radius:999px;
      border:1px solid transparent;
    }
    .nav a.link:hover{color:var(--text); border-color:rgba(255,255,255,.10); background:rgba(255,255,255,.04)}
    .cta{
      text-decoration:none;
      padding:10px 14px; border-radius:999px;
      background: linear-gradient(135deg, rgba(94,234,212,.18), rgba(96,165,250,.18));
      border:1px solid rgba(255,255,255,.14);
      box-shadow: 0 10px 24px rgba(0,0,0,.25);
      font-weight:900;
      white-space:nowrap;
    }

    /* Encart clinquant en haut de page */
    .banner{
      background: linear-gradient(135deg, var(--brand), var(--brand2));
      color: var(--bg);
      padding: 14px 20px;
      text-align: center;
      border-radius: 16px;
      font-weight: 900;
      margin-bottom: 20px;
      box-shadow: var(--shadow);
    }

    .hero{
      padding:42px 0 18px;
      display:grid; grid-template-columns: 1.2fr .8fr; gap:18px;
      align-items:stretch;
    }
    .card{
      background: rgba(16,26,51,.70);
      border:1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .heroLeft{padding:28px}
    h1{
      margin:0 0 12px;
      font-size: clamp(30px, 3.6vw, 52px);
      line-height:1.05;
      letter-spacing:-.7px;
    }
    .sub{
      color:var(--muted);
      font-size: clamp(15px, 1.5vw, 18px);
      max-width: 60ch;
      margin: 0 0 18px;
    }
    .pillRow{display:flex; gap:10px; flex-wrap:wrap; margin: 0 0 18px}
    .pill{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      color: var(--text);
      font-size: 13px;
    }
    .heroBtns{display:flex; gap:10px; flex-wrap:wrap}
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      gap:10px;
      padding:12px 14px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      text-decoration:none;
      font-weight:900;
      cursor:pointer;
      background: rgba(255,255,255,.06);
    }
    .btn.primary{
      background: linear-gradient(135deg, rgba(94,234,212,.22), rgba(96,165,250,.22));
    }
    .btn:hover{transform: translateY(-1px)}
    .mini{padding:18px; display:grid; gap:12px}
    .kpis{display:grid; grid-template-columns: 1fr; gap:10px}
    .kpi{
      padding:14px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      display:grid; gap:6px;
    }
    .kpi .n{font-size:16px; font-weight:900}
    .kpi .t{color:var(--muted); font-size:13px}

    section{padding: 18px 0}
    .sectionTitle{
      display:flex; align-items:flex-end; justify-content:space-between; gap:12px; flex-wrap:wrap;
      margin: 6px 0 12px;
    }
    h2{margin:0; font-size: 24px; letter-spacing:-.3px}
    .hint{color:var(--muted); margin:0}
    .grid3{display:grid; grid-template-columns: repeat(3, 1fr); gap:12px}
    .grid2{display:grid; grid-template-columns: repeat(2, 1fr); gap:12px}
    .box{padding:18px}
    .box h3{margin:0 0 8px; font-size: 16px}
    .box p{margin:0; color:var(--muted)}
    .list{margin:10px 0 0; padding-left: 18px; color:var(--muted)}
    .list li{margin:6px 0}

    .callout{
      padding:14px 16px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color: var(--muted);
    }
    .callout strong{color:var(--text)}
    .result{
      padding:18px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      display:grid; gap:10px;
    }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      font-size: 13px;
      width: fit-content;
      color: var(--text);
    }
    .ok{color:var(--ok)}
    .warn{color:var(--danger)}

    label{display:block; font-size:13px; color:var(--muted); margin: 10px 0 6px}
    input, select, textarea{
      width:100%;
      padding:12px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
      color: var(--text);
      outline:none;
    }
    textarea{min-height: 110px; resize: vertical}

    .faq details{
      padding:14px 16px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
    }
    .faq summary{cursor:pointer; font-weight:900}
    .faq p{margin:10px 0 0; color:var(--muted)}

    footer{
      margin-top: 26px;
      padding-top: 18px;
      border-top: 1px solid rgba(255,255,255,.10);
      color: var(--muted);
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      justify-content:space-between;
    }

    @media (max-width: 980px){
      .hero{grid-template-columns:1fr}
      .grid3{grid-template-columns:1fr}
      .grid2{grid-template-columns:1fr}
      .nav{border-radius: 18px}
      .nav ul{display:none}
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="banner">
      <strong>NO BAD DEBTS</strong>¬†‚Äì Prot√®ge tes ventes et acc√©l√®re ton cash
    </div>
    <nav class="nav" aria-label="Navigation">
      <a class="brand" href="#top">
        <span class="logo" aria-hidden="true"></span>
        <span>NO BAD DEBTS</span>
      </a>

      <ul>
        <li><a class="link" href="#en-60s">En 60 secondes</a></li>
        <li><a class="link" href="#produits">Les 2 produits</a></li>
        <li><a class="link" href="#simulateurs">Simulateurs</a></li>
        <li><a class="link" href="#faq">FAQ</a></li>
      </ul>

      <a class="cta" href="#contact">Me poser une question</a>
    </nav>

    <header id="top" class="hero">
      <div class="card heroLeft">
        <h1>Assurance-cr√©dit & affacturage.<br/>Version simple, sans jargon.</h1>
        <p class="sub">
          Tu vends en <strong>B2B</strong> (√† des entreprises), tu factures √† <strong>30/60/90 jours</strong>,
          et tu veux √©viter le combo : ‚Äú<em>client qui paie tard</em> + <em>client qui ne paie jamais</em>‚Äù.
          Ici, on explique les bases vite et bien.
        </p>

        <div class="pillRow">
          <span class="pill">üõ°Ô∏è Assurance-cr√©dit = ‚Äúairbag impay√©‚Äù</span>
          <span class="pill">‚ö° Affacturage = ‚Äúcash plus vite‚Äù</span>
          <span class="pill">üß† Exemples concrets</span>
          <span class="pill">üßÆ Mini simulateurs</span>
        </div>

        <div class="heroBtns">
          <a class="btn primary" href="#en-60s">Je veux comprendre vite</a>
          <a class="btn" href="#simulateurs">Je teste avec des chiffres</a>
        </div>
      </div>

      <aside class="card mini" aria-label="Pourquoi √ßa existe ?">
        <div class="kpis">
          <div class="kpi">
            <div class="n">üîÅ Le B2B, c‚Äôest ‚Äúje livre maintenant, je suis pay√© plus tard‚Äù</div>
            <div class="t">Donc ton cash peut souffrir‚Ä¶ m√™me si tu vends bien.</div>
          </div>
          <div class="kpi">
            <div class="n">üí• Un gros impay√© peut faire tr√®s mal</div>
            <div class="t">Surtout quand il vient d‚Äôun ‚Äúbon client‚Äù (jusqu‚Äôau jour o√π‚Ä¶).</div>
          </div>
          <div class="kpi">
            <div class="n">üéØ Ces outils sont l√† pour prot√©ger + acc√©l√©rer</div>
            <div class="t">Et pas seulement pour les ‚Äúgrosses bo√Ætes‚Äù.</div>
          </div>
        </div>

        <div class="callout">
          <strong>Promis :</strong> ici on √©vite les mots chelous. Et quand on en met un, on le traduit.
        </div>
      </aside>
    </header>

    <section id="en-60s">
      <div class="sectionTitle">
        <h2>En 60 secondes</h2>
        <p class="hint">Les deux d√©finitions que tu peux ressortir en soir√©e (ou √† ton boss).</p>
      </div>

      <div class="grid2">
        <div class="card box">
          <h3>üõ°Ô∏è Assurance-cr√©dit</h3>
          <p>
            C‚Äôest une assurance contre le risque ‚Äú<strong>mon client pro ne paie pas</strong>‚Äù.
            En bonus, √ßa vient souvent avec de l‚Äôanalyse (limites), du recouvrement, et un cadre de pilotage.
          </p>
          <ul class="list">
            <li>Tu vends ‚Üí tu d√©clares ‚Üí tu suis tes encours</li>
            <li>Si impay√© ‚Äúdans les r√®gles du contrat‚Äù ‚Üí indemnisation (souvent 80‚Äì95%)</li>
            <li>√áa discipline aussi le process cr√©dit/relance</li>
          </ul>
        </div>

        <div class="card box">
          <h3>‚ö° Affacturage</h3>
          <p>
            Tu as des factures √† encaisser dans 60 jours ? L‚Äôaffacturage, c‚Äôest ‚Äú<strong>je r√©cup√®re du cash tout de suite</strong>‚Äù
            (en √©change de frais), en utilisant tes factures comme base.
          </p>
          <ul class="list">
            <li>Tu c√®des des factures √† un factor (organisme de financement)</li>
            <li>Tu touches une avance (ex : 80‚Äì95%)</li>
            <li>Le factor se fait payer par ton client ‚Üí et te reverse le reste (moins les frais)</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="produits">
      <div class="sectionTitle">
        <h2>√Ä quoi √ßa sert (vraiment) ?</h2>
        <p class="hint">Si tu veux retenir une id√©e : assurance-cr√©dit = protection, affacturage = vitesse.</p>
      </div>

      <div class="grid3">
        <div class="card box">
          <h3>üòµ Probl√®me #1 : ‚Äúon vend, mais on manque de cash‚Äù</h3>
          <p>Souvent quand la croissance est rapide ou quand les d√©lais de paiement s‚Äôallongent.</p>
        </div>
        <div class="card box">
          <h3>üí£ Probl√®me #2 : ‚Äúun client tombe, et √ßa pique‚Äù</h3>
          <p>Un impay√©, c‚Äôest pas juste ‚Äúpas de cash‚Äù : c‚Äôest parfois de la marge qui dispara√Æt.</p>
        </div>
        <div class="card box">
          <h3>üß© Combo : les deux ensemble</h3>
          <p>Tu peux prot√©ger le risque d‚Äôimpay√© ET acc√©l√©rer le cash (selon montage).</p>
        </div>
      </div>

      <div class="callout" style="margin-top:12px">
        <strong>Traduction express :</strong> ‚Äúencours‚Äù = ce que tes clients te doivent √† un instant T.
      </div>
    </section>

    <section id="simulateurs">
      <div class="sectionTitle">
        <h2>Mini simulateurs (ultra indicatifs)</h2>
        <p class="hint">Juste pour voir des ordres de grandeur. Ce n‚Äôest pas un devis.</p>
      </div>

      <div class="grid2">
        <div class="card box">
          <h3>‚ö° Affacturage : cash et co√ªt</h3>

          <label for="fact_amount">Factures mobilis√©es (en ‚Ç¨)</label>
          <input id="fact_amount" type="text" inputmode="numeric" autocomplete="off" value="250000" />

          <label for="fact_fee">Frais ‚Äúall-in‚Äù (en %)</label>
          <input id="fact_fee" type="number" min="0" step="0.01" value="1.10" />

          <label for="fact_advance">Avance (en %)</label>
          <input id="fact_advance" type="number" min="0" max="100" step="1" value="90" />

          <button class="btn primary" id="calc_fact" type="button">Calculer l'affacturage</button>

          <div class="result" id="out_fact" style="margin-top:12px">
            <span class="badge">üìå Mets tes chiffres puis clique sur ‚ÄúCalculer‚Äù.</span>
            <div style="color:var(--muted)">Tu verras l‚Äôavance estim√©e et le co√ªt indicatif.</div>
          </div>

          <p style="margin:10px 0 0; color:var(--muted); font-size:13px">
            *On simplifie : dans la vraie vie, il y a des subtilit√©s (r√©serve, int√©r√™ts, litiges, etc.).
          </p>
        </div>

        <div class="card box">
          <h3>üõ°Ô∏è Assurance-cr√©dit : ‚Äúco√ªt vs impay√©s‚Äù</h3>

          <label for="ins_sales">Ventes B2B ‚Äú√† risque‚Äù (en ‚Ç¨ / an)</label>
          <input id="ins_sales" type="text" inputmode="numeric" autocomplete="off" value="800000" />

          <label for="ins_default">Taux d‚Äôimpay√©s sans assurance (en %)</label>
          <input id="ins_default" type="number" min="0" step="0.1" value="0.8" />

          <label for="ins_premium">Taux de prime (en %)</label>
          <input id="ins_premium" type="number" min="0" step="0.01" value="0.25" />

          <label for="ins_cover">Taux d‚Äôindemnisation (en %)</label>
          <input id="ins_cover" type="number" min="0" max="100" step="1" value="90" />

          <button class="btn primary" id="calc_ins" type="button">Calculer l'assurance-cr√©dit</button>

          <div class="result" id="out_ins" style="margin-top:12px">
            <span class="badge">üìå Id√©e : comparer ‚Äúpertes probables‚Äù et ‚Äúprime‚Äù.</span>
            <div style="color:var(--muted)">√áa ne remplace pas l‚Äôanalyse d‚Äôun vrai portefeuille.</div>
          </div>

          <p style="margin:10px 0 0; color:var(--muted); font-size:13px">
            *On parle d‚Äôesp√©rance de perte (statistique), pas d‚Äôune certitude.
          </p>
        </div>
      </div>
    </section>

    <section id="faq" class="faq">
      <div class="sectionTitle">
        <h2>FAQ (les vraies questions)</h2>
        <p class="hint">Celles que tu te poses probablement si tu d√©barques sur le sujet.</p>
      </div>

      <div class="grid2">
        <details class="card">
          <summary>Est-ce que c‚Äôest r√©serv√© aux grosses bo√Ætes ?</summary>
          <p>
            Non. Le besoin (cash + risque d‚Äôimpay√©) existe aussi chez des PME, startups B2B, agences, bo√Ætes en croissance.
            La diff√©rence, c‚Äôest le ‚Äúformat‚Äù (plus simple, cibl√©, progressif).
          </p>
        </details>

        <details class="card">
          <summary>Si j‚Äôai des impay√©s √† cause d‚Äôun litige, c‚Äôest couvert ?</summary>
          <p>
            Souvent non : un litige (qualit√©, livraison, contestation) bloque la couverture.
            D‚Äôo√π l‚Äôint√©r√™t d‚Äôun process propre : commande, preuve de livraison, CGV, etc.
          </p>
        </details>

        <details class="card">
          <summary>Affacturage : est-ce que mes clients vont le savoir ?</summary>
          <p>
            √áa d√©pend : il existe des montages ‚Äúnotifi√©s‚Äù (le client paie le factor) ou plus discrets (selon cas).
            √áa se choisit selon ton business et ton organisation.
          </p>
        </details>

        <details class="card">
          <summary>Ok‚Ä¶ je commence par lequel ?</summary>
          <p>
            Si ton stress = ‚Äúun client peut me planter‚Äù ‚Üí assurance-cr√©dit.
            Si ton stress = ‚Äúj‚Äôattends 60 jours pour respirer‚Äù ‚Üí affacturage.
            Souvent, on regarde les deux et on choisit le combo le plus simple.
          </p>
        </details>
      </div>
    </section>

    <!-- Section Ressources / Blog -->
    <section id="ressources">
      <div class="sectionTitle">
        <h2>Ressources &amp; Articles</h2>
        <p class="hint">Des conseils et analyses pour ma√Ætriser ton risque client et optimiser ta tr√©sorerie.</p>
      </div>
      <div class="grid3">
        <div class="card box">
          <h3>Pourquoi assurer tes cr√©ances&nbsp;?</h3>
          <p>D√©couvre comment l'assurance-cr√©dit prot√®ge tes ventes et renforce ta tr√©sorerie.</p>
          <a class="btn" href="#contact">Lire plus</a>
        </div>
        <div class="card box">
          <h3>Affacturage&nbsp;: acc√©l√©rer ton cash</h3>
          <p>Zoom sur le fonctionnement du factoring et les situations o√π il fait la diff√©rence.</p>
          <a class="btn" href="#contact">Lire plus</a>
        </div>
        <div class="card box">
          <h3>Cas pratiques &amp; retours d'exp√©rience</h3>
          <p>Des exemples concrets d'entreprises qui ont combin√© protection et croissance.</p>
          <a class="btn" href="#contact">Lire plus</a>
        </div>
      </div>
    </section>

    <section id="contact">
      <div class="sectionTitle">
        <h2>Contact</h2>
        <p class="hint">Tu veux un avis simple sur ton cas ? Donne 2 chiffres, je te dis par o√π commencer.</p>
      </div>

      <div class="grid2">
        <div class="card box">
          <h3>Quoi m‚Äôenvoyer (super simple)</h3>
          <ul class="list">
            <li>Ton CA B2B + d√©lai moyen de paiement</li>
            <li>Ton top 5 clients (en % du CA)</li>
            <li>Ton objectif : ‚Äúprot√©ger‚Äù ou ‚Äúcash‚Äù</li>
          </ul>
          <!-- Note supprim√©e -->
        </div>

        <div class="card box">
          <h3>Message (ouvre ton email)</h3>

          <label for="nom">Ton nom / Ta bo√Æte</label>
          <input id="nom" placeholder="Ex : Alex ‚Äî Studio/PME XYZ" />

          <label for="email">Ton email</label>
          <input id="email" type="email" placeholder="ex : alex@entreprise.com" />

          <label for="objet">Sujet</label>
          <select id="objet">
            <option>Je veux comprendre l‚Äôassurance-cr√©dit</option>
            <option>Je veux comprendre l‚Äôaffacturage</option>
            <option>J‚Äôh√©site : j‚Äôexplique mon cas</option>
          </select>

          <label for="msg">Ton message</label>
          <textarea id="msg" placeholder="Ex : on fait 1M‚Ç¨ B2B, paiement 60j, croissance, 3 gros clients‚Ä¶"></textarea>

          <button class="btn primary" id="send" type="button">Ouvrir mon email</button>

          <!-- Note supprim√©e : l'adresse email est d√©j√† param√©tr√©e dans le script -->
        </div>
      </div>
    </section>

    <footer>
      <div>¬© <span id="year"></span> ‚Äî NO BAD DEBTS</div>
      <div>Infos g√©n√©rales, non contractuelles.</div>
    </footer>
  </div>

  <script>
    const eur = (n) => new Intl.NumberFormat('fr-FR', { style:'currency', currency:'EUR' }).format(n);

// --- Formatage & parsing FR (s√©parateurs de milliers, virgule, espaces) ---
const fmtIntFR = new Intl.NumberFormat('fr-FR', { maximumFractionDigits: 0 });

function formatThousands(value) {
  const n = Number(value);
  if (!Number.isFinite(n)) return "0";
  return fmtIntFR.format(n);
}

function parseFR(str) {
  return Number(String(str ?? "")
    .replace(/\u202F/g, "") // espace fine ins√©cable (fr-FR)
    .replace(/\s/g, "")     // espaces
    .replace(",", ".")       // virgule -> point
  );
}

function attachThousandsFormatter(inputId) {
  const el = document.getElementById(inputId);
  if (!el) return;

  // Au focus : on enl√®ve les s√©parateurs pour faciliter la saisie
  el.addEventListener('focus', () => {
    const raw = String(el.value ?? "").replace(/\u202F/g, "").replace(/\s/g, "");
    el.value = raw;
  });

  // Au blur : on reformate avec s√©parateurs de milliers
  el.addEventListener('blur', () => {
    const n = parseFR(el.value);
    el.value = formatThousands(Number.isFinite(n) ? n : 0);
  });

  // Format initial
  const n0 = parseFR(el.value);
  el.value = formatThousands(Number.isFinite(n0) ? n0 : 0);
}


    function computeFactoring() {
      const amount = parseFR(document.getElementById('fact_amount').value || 0);
      const fee = Number(document.getElementById('fact_fee').value || 0) / 100;
      const advance = Number(document.getElementById('fact_advance').value || 0) / 100;

      const cost = amount * fee;
      const cash = amount * advance;
      const net = cash - cost;

      const badgeClass = net >= 0 ? 'ok' : 'warn';
      const badgeIcon = net >= 0 ? '‚úÖ' : '‚ö†Ô∏è';
      const badgeText = net >= 0 ? 'Lecture simple' : 'Hypoth√®ses √† v√©rifier';

      document.getElementById('out_fact').innerHTML = `
        <span class="badge ${badgeClass}">${badgeIcon} ${badgeText}</span>
        <div><strong>Cash ‚Äútout de suite‚Äù (avance) :</strong> ${eur(cash)}</div>
        <div><strong>Co√ªt indicatif :</strong> ${eur(cost)}</div>
        <div><strong>Net (avance - co√ªt) :</strong> ${eur(net)}</div>
        <div style="color:var(--muted); font-size:13px">
          √Ä affiner selon : r√©serve, int√©r√™ts, litiges, concentration clients, d√©lai moyen.
        </div>
      `;
    }

    function computeInsurance() {
      const sales = parseFR(document.getElementById('ins_sales').value || 0);
      const defaultRate = Number(document.getElementById('ins_default').value || 0) / 100;
      const premiumRate = Number(document.getElementById('ins_premium').value || 0) / 100;
      const coverRate = Number(document.getElementById('ins_cover').value || 0) / 100;

      const expectedLoss = sales * defaultRate;              // perte ‚Äúprobable‚Äù sans assurance (statistique)
      const premium = sales * premiumRate;                   // prime indicatif
      const expectedCovered = expectedLoss * coverRate;      // partie ‚Äúassur√©e‚Äù (tr√®s simplifi√©)
      const expectedNet = expectedCovered - premium;

      const badgeClass = expectedNet >= 0 ? 'ok' : 'warn';
      const badgeIcon = expectedNet >= 0 ? '‚úÖ' : '‚ö†Ô∏è';
      const badgeText = expectedNet >= 0 ? '√áa peut valoir le coup (sur le papier)' : 'Pas √©vident (sur le papier)';

      document.getElementById('out_ins').innerHTML = `
        <span class="badge ${badgeClass}">${badgeIcon} ${badgeText}</span>
        <div><strong>Pertes ‚Äúprobables‚Äù sans assurance :</strong> ${eur(expectedLoss)}</div>
        <div><strong>Prime indicatif :</strong> ${eur(premium)}</div>
        <div><strong>Pertes ‚Äúpotentiellement compens√©es‚Äù :</strong> ${eur(expectedCovered)}</div>
        <div><strong>√âcart (compensation - prime) :</strong> ${eur(expectedNet)}</div>
        <div style="color:var(--muted); font-size:13px">
          Attention : la couverture d√©pend des r√®gles du contrat (d√©lais, d√©clarations, absence de litige, etc.).
        </div>
      `;
    }

    document.getElementById('calc_fact').addEventListener('click', computeFactoring);
    document.getElementById('calc_ins').addEventListener('click', computeInsurance);

    document.getElementById('send').addEventListener('click', () => {
      const nom = document.getElementById('nom').value.trim();
      const email = document.getElementById('email').value.trim();
      const objet = document.getElementById('objet').value;
      const msg = document.getElementById('msg').value.trim();

      const errors = [];
      if (!nom) errors.push("Nom / bo√Æte manquant.");
      if (!email || !email.includes('@')) errors.push("Email invalide.");
      if (!msg) errors.push("Message vide.");

      if (errors.length) { alert(errors.join('\n')); return; }

      const to = "nobaddebts@gmail.com";

      const subject = encodeURIComponent(`[${objet}] ‚Äî ${nom}`);
      const body = encodeURIComponent(
        `Bonjour,\n\n${msg}\n\nCoordonn√©es :\n- Nom/Bo√Æte : ${nom}\n- Email : ${email}\n\nMerci !\n${nom}`
      );

      window.location.href = `mailto:${to}?subject=${subject}&body=${body}`;
    });

    document.getElementById('year').textContent = new Date().getFullYear();

    // S√©parateurs de milliers dans les champs ‚Ç¨
    attachThousandsFormatter('fact_amount');
    attachThousandsFormatter('ins_sales');

    // Exemple au chargement
    computeFactoring();
    computeInsurance();
  </script>
</body>
</html>
